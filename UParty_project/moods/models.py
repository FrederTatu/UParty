from django.db import models

# Create your models here.

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏ Django
from django.utils.translation import gettext_lazy as _  # –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ (i18n)


class MoodTag(models.Model):
    """
    –ú–æ–¥–µ–ª—å —Ç–µ–≥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è (Mood Tag) –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π.
    
    –ö–∞–∂–¥—ã–π —Ç–µ–≥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–†–æ–º–∞–Ω—Ç–∏–∫–∞", "–ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö").
    –¢–µ–≥–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.
    
    –ê—Ç—Ä–∏–±—É—Ç—ã:
        name (CharField): –ß–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞
        code (CharField): –ú–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ URL –∏ API
        color (CharField): –¶–≤–µ—Ç —Ç–µ–≥–∞ –≤ HEX-—Ñ–æ—Ä–º–∞—Ç–µ (#RRGGBB)
        emoji (CharField): –≠–º–æ–¥–∑–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∞—è —Ç–µ–≥
        description (TextField): –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–≥–∞
        sort_order (IntegerField): –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ç–µ–≥–æ–≤ (–º–µ–Ω—å—à–µ = –≤—ã—à–µ)
        is_active (BooleanField): –§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–µ–≥–∞ (–º–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ)
        created_at (DateTimeField): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
        updated_at (DateTimeField): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    """
    
    # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏
    
    # –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö")
    # CharField - –ø–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã
    # max_length=50 - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ 50 —Å–∏–º–≤–æ–ª–æ–≤
    # verbose_name - —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –∏–º—è –ø–æ–ª—è (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ)
    # _() - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ (gettext_lazy) - –µ—Å–ª–∏ –ø–æ–∑–∂–µ –¥–æ–±–∞–≤–∏—Ç–µ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
    name = models.CharField(
        max_length=50,
        verbose_name=_("–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞"),
        help_text=_("–ß–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è")
    )
    
    # –ö–æ–¥ —Ç–µ–≥–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ URL –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "active")
    # unique=True - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–æ–¥—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –≤ –±–∞–∑–µ
    # db_index=True - —Å–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å –≤ –ë–î –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ —ç—Ç–æ–º—É –ø–æ–ª—é
    code = models.CharField(
        max_length=20,
        unique=True,
        verbose_name=_("–ö–æ–¥ —Ç–µ–≥–∞"),
        help_text=_("–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ URL –∏ API (–ª–∞—Ç–∏–Ω—Å–∫–∏–º–∏ –±—É–∫–≤–∞–º–∏)"),
        db_index=True  # –ò–Ω–¥–µ–∫—Å —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–∏—Å–∫ –ø–æ —ç—Ç–æ–º—É –ø–æ–ª—é
    )
    
    # –¶–≤–µ—Ç —Ç–µ–≥–∞ –≤ HEX-—Ñ–æ—Ä–º–∞—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "#FF5733" –¥–ª—è –æ—Ä–∞–Ω–∂–µ–≤–æ–≥–æ)
    # default="#6366f1" - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
    # –í–∞–ª–∏–¥–∞—Ü–∏—é —Ü–≤–µ—Ç–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ #RRGGBB)
    color = models.CharField(
        max_length=7,
        default="#6366f1",
        verbose_name=_("–¶–≤–µ—Ç —Ç–µ–≥–∞"),
        help_text=_("–¶–≤–µ—Ç –≤ HEX-—Ñ–æ—Ä–º–∞—Ç–µ (#RRGGBB) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ")
    )
    
    # –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–≥–∞
    # blank=True - –ø–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)
    # null=True - –≤ –ë–î –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è NULL
    emoji = models.CharField(
        max_length=5,
        blank=True,
        null=True,
        verbose_name=_("–≠–º–æ–¥–∑–∏"),
        help_text=_("–≠–º–æ–¥–∑–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∞—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, üòä, üéâ)")
    )
    
    # –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–≥–∞
    # TextField - –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã)
    # blank=True - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
    description = models.TextField(
        verbose_name=_("–û–ø–∏—Å–∞–Ω–∏–µ"),
        help_text=_("–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–≥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è"),
        blank=True  # –ü–æ–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º
    )
    
    # –ß–∏—Å–ª–æ–≤—ã–µ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è
    
    # –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ç–µ–≥–æ–≤
    # default=0 - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0
    # –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ä—è–¥–∫–æ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–≥–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ
    sort_order = models.IntegerField(
        default=0,
        verbose_name=_("–ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏"),
        help_text=_("–ß–µ–º –º–µ–Ω—å—à–µ —á–∏—Å–ª–æ, —Ç–µ–º –≤—ã—à–µ –≤ —Å–ø–∏—Å–∫–µ –±—É–¥–µ—Ç —Ç–µ–≥")
    )
    
    # –§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–µ–≥–∞
    # default=True - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —Ç–µ–≥–∏ –∞–∫—Ç–∏–≤–Ω—ã
    # –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å —Ç–µ–≥–∏ –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è
    is_active = models.BooleanField(
        default=True,
        verbose_name=_("–ê–∫—Ç–∏–≤–µ–Ω"),
        help_text=_("–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ª–∏ —ç—Ç–æ—Ç —Ç–µ–≥ –Ω–∞ —Å–∞–π—Ç–µ")
    )
    
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ–º—ã–µ –ø–æ–ª—è (–¥–∞—Ç–∞/–≤—Ä–µ–º—è)
    
    # –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
    # auto_now_add=True - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
    # editable=False - –Ω–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
    created_at = models.DateTimeField(
        auto_now_add=True,
        verbose_name=_("–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è"),
        editable=False  # –ù–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
    )
    
    # –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏
    # auto_now=True - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
    # editable=False - –Ω–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
    updated_at = models.DateTimeField(
        auto_now=True,
        verbose_name=_("–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"),
        editable=False
    )
    
    # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Django)
    class Meta:
        """
        –ö–ª–∞—Å—Å Meta —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –º–æ–¥–µ–ª–∏.
        –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –≤ –∞–¥–º–∏–Ω–∫–µ –∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ë–î.
        """
        # –ß–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –∏–º—è –º–æ–¥–µ–ª–∏ (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)
        verbose_name = _("–¢–µ–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è")
        
        # –ß–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –∏–º—è –º–æ–¥–µ–ª–∏ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ
        verbose_name_plural = _("–¢–µ–≥–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è")
        
        # –ü–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        # –°–Ω–∞—á–∞–ª–∞ –ø–æ sort_order (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ), –ø–æ—Ç–æ–º –ø–æ name
        ordering = ["sort_order", "name"]
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ë–î
        # –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        indexes = [
            # –ò–Ω–¥–µ–∫—Å –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
            models.Index(fields=['is_active', 'sort_order']),
        ]
    
    # –ú–∞–≥–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞
    def __str__(self):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.
        –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ Django, shell, –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö.
        """
        # –ï—Å–ª–∏ –µ—Å—Ç—å —ç–º–æ–¥–∑–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ—ë, –∏–Ω–∞—á–µ —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ
        if self.emoji:
            return f"{self.emoji} {self.name}"
        return self.name
    
    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –º–æ–¥–µ–ª–∏
    def get_css_color(self):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç CSS-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞.
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            str: CSS-–∑–Ω–∞—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ (–µ—Å–ª–∏ HEX) –∏–ª–∏ –∏–º—è —Ü–≤–µ—Ç–∞
        """
        if self.color.startswith("#"):
            return self.color
        # –ï—Å–ª–∏ —Ü–≤–µ—Ç –∑–∞–¥–∞–Ω —Å–ª–æ–≤–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "red"), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
        return self.color
    
    def get_absolute_url(self):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π URL –¥–ª—è –æ–±—ä–µ–∫—Ç–∞.
        –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ –∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–∞–π—Ç–∞.
        
        –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü–æ–∫–∞ URL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≥–ª—É—à–∫—É.
        –ü–æ–∑–∂–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π URL pattern.
        """
        # –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≥–ª—É—à–∫—É. –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ç–µ–≥–æ–≤,
        # –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å reverse:
        # from django.urls import reverse
        # return reverse('mood-detail', kwargs={'code': self.code})
        return f"/moods/{self.code}/"
    
    def deactivate(self):
        """
        –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ç–µ–≥ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç is_active=False).
        
        –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º—è–≥–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —Ç–µ–≥–∞ –±–µ–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –ë–î.
        """
        self.is_active = False
        self.save(update_fields=['is_active', 'updated_at'])
    
    def activate(self):
        """
        –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ç–µ–≥ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç is_active=True).
        """
        self.is_active = True
        self.save(update_fields=['is_active', 'updated_at'])